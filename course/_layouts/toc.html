---
layout: base
---
<div class='flex flex-wrap xl:flex-nowrap justify-center gap-4 mx-auto'>
  <div class='p-4 lg:p-6 xl:p-8 rounded md:rounded-lg lg:rounded-xl xl:rounded-2xl w-full bg-linear-to-br from-transparent to-zinc-200 dark:from-transparent dark:to-zinc-800/40 md:w-auto'>
    <main class='prose prose-lg xl:prose-xl 2xl:prose-2xl sm:max-md:max-w-none course-{{ page.course_type }} {{ page.custom_page_class }}'>
      {% if page.title_include %}
        {%- include {{ page.title_include }} %}
      {% elsif page.title %}
        <h1 class='text-2xl md:text-3xl lg:text-4xl xl:text-5xl 2xl:text-5xl !mb-0'>{{ page.title }}</h1>
        {% if page.subtitle %}
          <small class='text-xl font-title'>{{ page.subtitle }}</small>
        {% endif %}
      {% endif %}

      <div class='my-4'>
        {{ page.excerpt }}
      </div>

      <div class='my-4 toc collapse screen:collapse-arrow print:collapse-open bg-neutral/25 dark:bg-neutral border-base-300 border xl:hidden'>
        <input type='checkbox'>
        <div id='on-this-page-inline-title' class='collapse-title text-xl font-bold'>
          <span class='print:hidden'>On this page</span>
          <span class='hidden print:inline'>Table of contents</span>
        </div>
        <nav class='toc collapse-content text-sm' aria-labelledby='on-this-page-inline-title'>
          {{ content | toc_only }}
        </nav>
      </div>

      {% if page.cloud_server %}
        <div class='pt-2 sticky top-0'>
          <div
            class='cloud-server-data not-prose xl:hidden'
            data-mode='{{ page.cloud_server }}'
            data-layout='horizontal'
          ></div>
        </div>
      {% endif %}

      {{ content | remove_first: page.excerpt }}
    </main>
  </div>
  <aside class='hidden xl:block xl:w-xs'>
    <h2 id='on-this-page-title' class='text-xl font-bold'>On this page</h2>
    <nav class='toc' aria-labelledby='on-this-page-title'>
      {{ content | toc_only }}
    </nav>
    <div class='my-4 pl-4 flex items-center gap-4'>
      {% unless site.archidep_standalone %}
        {% assign suffix = ' - Subject' %}
        {% assign default_tooltip = 'Subject PDF' %}
        {% if page.course_type == 'slides' %}{% assign suffix = ' - Slides' %}{% endif %}
        {% if page.course_type == 'exercise' %}
          {% assign suffix = ' - Exercise' %}
          {% assign default_tooltip = 'Exercise PDF' %}
        {% endif %}
        {% if page.course_type == 'cheatsheet' %}
          <a
            href='{{ site.baseurl }}/pdf/ArchiDep 999 - {{ page.title }}.pdf'
            class='tooltip'
            data-tip='{{ page.pdf_title | default: "Cheatsheet PDF" }}'
            download
          >
            {%- include icons/document-arrow-down.html class="size-6 opacity-50 hover:opacity-100" -%}
          </a>
        {% else %}
          {% if page.pdf_name %}
            <a
              href='{{ site.baseurl }}/pdf/{{ page.pdf_name }}.pdf'
              class='tooltip'
              data-tip='{{ page.pdf_title | default: default_tooltip }}'
              download
            >
              {%- include icons/document-arrow-down.html class="size-6 opacity-50 hover:opacity-100" -%}
            </a>
          {% else %}
            <a
              href='{{ site.baseurl }}/pdf/ArchiDep {{ page.num }} - {{ page.section_title }} - {{ page.title }}{{ suffix }}.pdf'
              class='tooltip'
              data-tip='{{ page.pdf_title | default: default_tooltip }}'
              download
            >
              {%- include icons/document-arrow-down.html class="size-6 opacity-50 hover:opacity-100" -%}
            </a>
          {% endif %}
          {% if page.slides %}
            <a
              href='{{ site.baseurl }}/pdf/ArchiDep {{ page.num }} - {{ page.section_title }} - {{ page.title }} - Slides.pdf'
              class='tooltip'
              data-tip='Slides PDF'
              download
            >
              {%- include icons/presentation-chart.html class="size-6 opacity-50 hover:opacity-100" -%}
            </a>
          {% endif %}
        {% endif %}
      {% endunless %}
      {% assign subpath = '/collections' %}
      {% if page.url == '/' %}
        {% assign subpath = '' %}
      {% endif %}
      <a
        href='{{ site.archidep_repo }}/blob/{{ site.data.git_revision }}/course{{ subpath }}/{{ page.path }}'
        class='tooltip'
        data-tip='Source code'
      >
        {%- include icons/github.html class="size-6 opacity-50 hover:opacity-100" -%}
      </a>
    </div>
    <div class='pt-2 sticky top-0'>
      {% if page.cloud_server %}
        <div class='cloud-server-data' data-mode='{{ page.cloud_server }}'></div>
      {% endif %}

      <a href='#top' id='back-to-top' class='btn btn-ghost btn-sm'>
        {%- include icons/arrow-up.html class="size-4" -%}
        Back to top
      </a>
    </div>
  </aside>
</div>
